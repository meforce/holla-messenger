"use strict";(self.webpackChunkion_holla_messenger=self.webpackChunkion_holla_messenger||[]).push([[7553],{7553:(T,p,h)=>{h.r(p),h.d(p,{super_tab_button:()=>A,super_tabs_toolbar:()=>x});var r=h(4553),n=h(2827),a=h(3993);let A=(()=>{class d{constructor(t){(0,n.r)(this,t),this.disabled=!1,this.scrollableContainer=!1,this.retryAttempts=0}componentDidLoad(){this.indexChildren(),this.initCmp()}initCmp(){this.el&&this.el.shadowRoot||!(++this.retryAttempts<1e3)?(!this.label&&!this.icon&&this.indexChildren(),this.el.shadowRoot.querySelector("slot").addEventListener("slotchange",()=>{this.indexChildren()})):requestAnimationFrame(()=>this.initCmp())}indexChildren(){this.label=this.el.querySelector("ion-label"),this.icon=this.el.querySelector("ion-icon")}render(){return(0,n.h)(n.H,{role:"button","aria-label":!!this.label&&this.label.innerText,"aria-disabled":!!this.disabled&&"true","aria-selected":this.active?"true":"false",class:{"ion-activatable":!this.disabled,"ion-focusable":!this.disabled,"icon-only":!!this.icon&&!this.label,"label-only":!!this.label&&!this.icon,active:Boolean(this.active),scrollableContainer:this.scrollableContainer}},(0,n.h)("slot",null),(0,n.h)("ion-ripple-effect",{type:"unbounded"}))}get el(){return(0,n.g)(this)}}return d.style=":host{-ms-flex:1 0 0px;flex:1 0 0;cursor:pointer;position:relative;max-width:100%;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);height:72px;padding:0 24px;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased}:host ion-label,:host ion-icon,:host ::slotted(ion-label),:host ::slotted(ion-icon){-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:300ms;transition-duration:300ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-delay:0s;transition-delay:0s;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;-webkit-user-select:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased}:host ion-label,:host ::slotted(ion-label){color:var(--st-label-color-inactive, var(--st-base-color-inactive));line-height:var(--st-label-line-height, 14px);height:var(--st-label-height, 14px);font-size:var(--st-label-font-size, 14px);text-transform:var(--st-label-text-transform, uppercase);font-weight:var(--st-label-font-weight, 500);padding-bottom:var(--st-label-padding-bottom, 16px)}:host ion-icon,:host ::slotted(ion-icon){color:var(--st-icon-color-inactive, var(--st-base-color-inactive));fill:var(--st-icon-color-inactive, var(--st-base-color-inactive));min-height:var(--st-icon-size, 24px);min-width:var(--st-icon-size, 24px);font-size:var(--st-icon-size, 24px);padding-top:12px}@media (hover: hover){:host(:hover){background:rgba(var(--ion-color-contrast-rgb), 0.04)}}:host(.active) ion-label,:host(.active) ion-icon,:host(.active) ::slotted(ion-label),:host(.active) ::slotted(ion-icon){-webkit-transition-delay:75ms;transition-delay:75ms}:host(.active) ion-label,:host(.active) ::slotted(ion-label){color:var(--st-label-color-active, var(--st-base-color-active))}:host(.active) ion-icon,:host(.active) ::slotted(ion-icon){color:var(--st-icon-color-active, var(--st-base-color-active));fill:var(--st-icon-color-active, var(--st-base-color-active))}:host(.icon-only),:host(.label-only){height:48px;-ms-flex-pack:center;justify-content:center}:host(.scrollableContainer){-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:auto;flex-basis:auto;min-width:90px;max-width:360px}::slotted{-ms-flex-negative:1;flex-shrink:1}:host(.label-only) ion-label,:host(.label-only) ::slotted(ion-label){padding-bottom:0}:host(.icon-only) ion-icon,:host(.icon-only) ::slotted(ion-icon){padding-top:0}",d})(),x=(()=>{class d{constructor(t){(0,n.r)(this,t),this.showIndicator=!0,this.color="primary",this.scrollable=!1,this.scrollablePadding=!0,this.buttons=[],this.activeTabIndex=0,this.touchStartTs=0,this.lastClickTs=0,this.leftThreshold=0,this.rightThreshold=0,this.hostCls={},this.buttonClick=(0,n.c)(this,"buttonClick",7)}componentDidLoad(){var t=this;return(0,r.Z)(function*(){t.setHostCls(),yield t.queryButtons(),t.slot=t.el.shadowRoot.querySelector("slot"),t.slot.addEventListener("slotchange",t.onSlotChange.bind(t)),t.updateWidth(),requestAnimationFrame(()=>{t.setActiveTab(t.activeTabIndex,!0,!1)})})()}componentWillUpdate(){this.debug("componentWillUpdate"),this.updateThresholds()}componentDidRender(){this.updateWidth()}updateWidth(){const t=this.el.getBoundingClientRect();this.width=Math.round(100*t.width)/100,this.offsetLeft=t.left}setActiveTab(t,o,i){return t=Math.max(0,Math.min(Math.round(t),this.buttons.length-1)),this.debug("setActiveTab",t,o,i),this.activeTabIndex=t,this.markButtonActive(this.buttons[t]),o&&this.alignIndicator(t,i),Promise.resolve()}setSelectedTab(t,o){return this.alignIndicator(t,o),Promise.resolve()}moveContainer(t,o){return this.buttonsContainerEl?((0,a.s)(this.buttonsContainerEl,t,0,this.config.nativeSmoothScroll,o?this.config.transitionDuration:0),Promise.resolve()):(this.debug("moveContainer called before this.buttonsContainerEl was defined"),Promise.resolve())}getButtonFromEv(t){let o=t.target;const i=o.tagName.toLowerCase();if("super-tab-button"!==i){if("super-tabs-toolbar"===i)return;o=o.closest("super-tab-button")}return o}onClick(t){if(!t||!t.target)return void this.debug("Got a click event with no target!",t);if(Date.now()-this.touchStartTs<=150)return;const o=this.getButtonFromEv(t);!o||this.onButtonClick(o)}onButtonClick(t){!t||t.disabled||(this.lastClickTs=Date.now(),this.setActiveTab(t.index,!0,!0),this.buttonClick.emit(t))}onTouchStart(t){var o=this;return(0,r.Z)(function*(){if(!o.scrollable)return;o.debug("onTouchStart",t);const i=(0,a.p)(t);i.x<o.leftThreshold||i.x>o.width-o.rightThreshold||(o.touchStartTs=Date.now(),o.initialCoords=i,o.lastPosX=i.x)})()}onTouchMove(t){var o=this;return(0,r.Z)(function*(){if(!o.buttonsContainerEl||!o.scrollable||!o.initialCoords||"number"!=typeof o.lastPosX)return;const i=(0,a.p)(t);if(!o.isDragging){if(!(0,a.c)(i,o.initialCoords,o.config))return void(Math.abs(i.y-o.initialCoords.y)>100&&(o.initialCoords=void 0,o.lastPosX=void 0));o.isDragging=!0}if(!o.isDragging)return;t.stopImmediatePropagation();const e=o.lastPosX-i.x;0!==e&&(o.lastPosX=i.x,requestAnimationFrame(()=>{if(!o.isDragging)return;const s=(0,a.g)(o.buttonsContainerEl,o.buttonsContainerEl.clientWidth,e);s!==o.buttonsContainerEl.scrollLeft&&o.buttonsContainerEl.scroll(s,0)}))})()}onTouchEnd(t){var o=this;return(0,r.Z)(function*(){var i,e;if(o.lastClickTs<o.touchStartTs&&Date.now()-o.touchStartTs<=150){const s=(0,a.p)(t);if(Math.abs(s.x-(null===(i=o.initialCoords)||void 0===i?void 0:i.x))<(null===(e=o.config)||void 0===e?void 0:e.dragThreshold)){const l=o.getButtonFromEv(t);if(!l)return;o.onButtonClick(l)}}o.isDragging=!1,o.initialCoords=void 0,o.lastPosX=void 0})()}onColorUpdate(){var t=this;return(0,r.Z)(function*(){t.setHostCls()})()}setHostCls(){const t={};"string"==typeof this.color&&this.color.trim().length>0&&(t["ion-color-"+this.color.trim()]=!0),this.hostCls=t}onSlotChange(){var t=this;return(0,r.Z)(function*(){t.debug("onSlotChange"),t.updateWidth(),yield t.queryButtons(),yield t.setActiveTab(t.activeTabIndex,!0)})()}queryButtons(){var t=this;return(0,r.Z)(function*(){t.debug("Querying buttons");const o=Array.from(t.el.querySelectorAll("super-tab-button"));if(yield Promise.all(o.map(i=>i.componentOnReady())),o)for(let i=0;i<o.length;i++){const e=o[i];e.index=i,e.scrollableContainer=t.scrollable,e.active=t.activeTabIndex===i,e.active&&(t.activeButton=e)}t.buttons=o})()}updateThresholds(){!this.config||(("both"===this.config.sideMenu||"left"===this.config.sideMenu)&&(this.leftThreshold=this.config.sideMenuThreshold),("both"===this.config.sideMenu||"right"===this.config.sideMenu)&&(this.rightThreshold=this.config.sideMenuThreshold))}markButtonActive(t){t?(this.activeButton&&(this.activeButton.active=!1),t.active=!0,this.activeButton=t):this.debug("markButtonActive","button was undefined!")}setButtonsContainerEl(t){t&&(this.buttonsContainerEl=t)}adjustContainerScroll(t){if(!this.buttonsContainerEl)return void this.debug("adjustContainerScroll called before this.buttonsContainerEl was defined");let o;const i=this.indicatorPosition,e=this.indicatorWidth,s=this.buttonsContainerEl.clientWidth,l=this.buttonsContainerEl.scrollLeft,c=s/2-e/2,u=Math.floor(i+e+c),b=Math.floor(i-c);if(u>Math.floor(s+l))o=i+e+c-s;else{if(!(b<l))return;o=Math.max(i-c,0),o=o>i?i-s+e:o}t?this.moveContainer(o,t):(0,a.s)(this.buttonsContainerEl,o,0,!1,50)}alignIndicator(t,o=!1){var i=this;return(0,r.Z)(function*(){if(!i.showIndicator||!i.indicatorEl)return;i.debug("Aligning indicator",t);const e=t%1,s=i.isDragging=e>0,l=Math.floor(t),c=Math.ceil(t),u=i.buttons[l];if(!u)return;let b=u.offsetLeft,f=u.clientWidth;if(s&&l!==c){const g=i.buttons[c];if(!g)return;b+=e*(g.offsetLeft-b),f+=e*(g.clientWidth-f)}requestAnimationFrame(()=>{i.indicatorPosition=b,i.indicatorWidth=f,i.scrollable&&i.adjustContainerScroll(o||!s),i.indicatorEl.style.setProperty("--st-indicator-position-x",i.indicatorPosition+"px"),i.indicatorEl.style.setProperty("--st-indicator-scale-x",String(i.indicatorWidth/100)),i.indicatorEl.style.setProperty("--st-indicator-transition-duration",i.isDragging?"0":`${i.config.transitionDuration}ms`)})})()}debug(...t){(0,a.d)(this.config,"toolbar",t)}render(){return(0,n.h)(n.H,{role:"navigation",class:this.hostCls},(0,n.h)("div",{class:"buttons-container",ref:t=>this.setButtonsContainerEl(t)},(0,n.h)("slot",null),this.showIndicator&&(0,n.h)("super-tab-indicator",{ref:t=>this.indicatorEl=t,toolbarPosition:this.el.assignedSlot.name})))}get el(){return(0,n.g)(this)}static get watchers(){return{color:["onColorUpdate"]}}}return d.style=':host{-ms-flex:0 1 auto;flex:0 1 auto;display:block;width:100%;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);position:relative;background:var(--super-tabs-toolbar-background, var(--ion-color-base));overflow:visible;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:auto;-ms-touch-action:pan-x;touch-action:pan-x;z-index:2;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased}:host .buttons-container{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;width:100%;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);overflow:hidden}:host(:not([no-border])):after{left:0;bottom:-8px;background-position:left 0 top 0;position:absolute;width:100%;height:8px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAIBAMAAAACWGKkAAAAFVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQCkAAAAB3RSTlMFTEIzJBcOYhQUIwAAAB9JREFUCNdjEIQCBiUoYDCGAgYXKGAIhQKGNChgwAAAorMLKSCkL40AAAAASUVORK5CYII=);background-repeat:repeat-x;content:"";z-index:3;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}:host([scrollable]) .buttons-container{will-change:scroll-position}:host([scrollable][scrollable-padding]) .buttons-container{padding-left:var(--st-scrollable-toolbar-padding-left, 52px);width:calc(100% - var(--st-scrollable-toolbar-padding-left, $st-scrollable-toolbar-padding-left))}',d})()}}]);