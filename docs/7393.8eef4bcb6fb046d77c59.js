"use strict";(self.webpackChunkion_holla_messenger=self.webpackChunkion_holla_messenger||[]).push([[7393],{576:(ce,B,m)=>{m.d(B,{a:()=>Z});var d=m(3018),h=m(4490),q=m(8583);function R(D,N){if(1&D&&d._UZ(0,"div",7),2&D){const T=d.oxw();d.Udp("background-image","url("+T.photo+")")}}function o(D,N){1&D&&d._UZ(0,"ion-spinner",8)}let Z=(()=>{class D{constructor(T,U,G){this.alertController=T,this.modalCtrl=U,this.navParams=G,this.viseble=!1,this.photo=this.navParams.get("photo"),setTimeout(()=>{this.viseble=!0},650)}closeModal(){this.modalCtrl.dismiss({data:!0})}ngOnDestroy(){}ionViewDidEnter(){}ionViewDidLeave(){}ngOnInit(){}}return D.\u0275fac=function(T){return new(T||D)(d.Y36(h.Br),d.Y36(h.IN),d.Y36(h.X1))},D.\u0275cmp=d.Xpm({type:D,selectors:[["app-fullphoto"]],decls:8,vars:4,consts:[[1,"ion-no-border",3,"translucent"],[2,"--background","rgb(250 235 215 / 10%)","height","30px"],["color","dark","name","remove-outline",3,"click"],[3,"fullscreen"],[1,"ion-padding","ion-text-center","center_loc","paddingoslo",2,"height","100%","margin-top","10px"],["style","width: 100%; height: 100%;background-size: contain;background-repeat: no-repeat;background-position: center;",3,"background-image",4,"ngIf"],["class","center_loc","name","crescent",4,"ngIf"],[2,"width","100%","height","100%","background-size","contain","background-repeat","no-repeat","background-position","center"],["name","crescent",1,"center_loc"]],template:function(T,U){1&T&&(d.TgZ(0,"ion-header",0),d.TgZ(1,"ion-toolbar",1),d.TgZ(2,"ion-title"),d.TgZ(3,"ion-icon",2),d.NdJ("click",function(){return U.closeModal()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(4,"ion-content",3),d.TgZ(5,"div",4),d.YNc(6,R,1,2,"div",5),d.YNc(7,o,1,0,"ion-spinner",6),d.qZA(),d.qZA()),2&T&&(d.Q6J("translucent",!0),d.xp6(4),d.Q6J("fullscreen",!0),d.xp6(2),d.Q6J("ngIf",U.viseble),d.xp6(1),d.Q6J("ngIf",!U.viseble))},directives:[h.Gu,h.sr,h.wd,h.gu,h.W2,q.O5,h.PQ],styles:["ion-item[_ngcontent-%COMP%]{--border-color: rgb(255 255 255 / 0%);padding:12px 0}ion-avatar.avatar-lg[_ngcontent-%COMP%], .avatar-lg[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px}ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:110px;height:30px;margin-bottom:7px}.center_loc[_ngcontent-%COMP%]{position:fixed;text-align:center;left:0;right:0;margin:0 auto;top:50%;transform:translateY(-50%);z-index:99999}"]}),D})()},9959:(ce,B,m)=>{m.d(B,{PX:()=>ht});var d=m(4762),h=m(4490),q=m(3679),R=m(663),o=m.n(R);const D=(0,m(8384).fo)("VoiceRecorder",{web:()=>m.e(2501).then(m.bind(m,2501)).then(n=>new n.VoiceRecorderWeb)});var N=m(5527),T=m(2773),U=m(8010),G=m(576),te=m(4629),j=m(8061),e=m(3018),ie=m(6378),ne=m(7635),se=m(887),z=m(9075),W=m(393),K=m(8583),oe=m(4540);let ae=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.H7,16))},n.\u0275pipe=e.Yjl({name:"safe",type:n,pure:!0}),n})();function y(n,c){if(1&n&&e._UZ(0,"img",32),2&n){const t=e.oxw(2);e.MGl("id","mesdatiphoto",t.userid,""),e.Q6J("src",t.user.image,e.LSH)}}function L(n,c){if(1&n&&e._UZ(0,"img",33),2&n){const t=e.oxw(2);e.MGl("id","mesdatiphotoo",t.userid,"")}}function f(n,c){1&n&&(e.TgZ(0,"p",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("\n",e.lcZ(2,1,"messenger.online"),"\n"))}function I(n,c){1&n&&(e.TgZ(0,"p",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("\n",e.lcZ(2,1,"messenger.offline"),"\n"))}function S(n,c){1&n&&(e.TgZ(0,"p",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("\n",e.lcZ(2,1,"messenger.writer"),"\n"))}function Q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",25),e.TgZ(1,"ion-avatar",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.profile(s.user)}),e.YNc(2,y,1,2,"img",27),e.YNc(3,L,1,1,"img",28),e.qZA(),e.TgZ(4,"ion-label",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.profile(s.user)}),e.TgZ(5,"strong",30),e._uU(6),e.qZA(),e.YNc(7,f,3,3,"p",31),e.YNc(8,I,3,3,"p",31),e.YNc(9,S,3,3,"p",31),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","none"!=t.user.image),e.xp6(1),e.Q6J("ngIf","none"==t.user.image),e.xp6(2),e.MGl("id","mesdatiname",t.userid,""),e.xp6(1),e.Oqu(t.user.name),e.xp6(1),e.Q6J("ngIf","online"==t.user.status&&!t.writer),e.xp6(1),e.Q6J("ngIf","offline"==t.user.status&&!t.writer||!t.user.status&&!t.writer),e.xp6(1),e.Q6J("ngIf",t.writer)}}function H(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().call("voice")}),e._UZ(1,"ion-icon",36),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled","offline"==t.user.status)}}function de(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().call("video")}),e._UZ(1,"ion-icon",37),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled","offline"==t.user.status)}}function fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item-divider",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().clickgomss()}),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("\n",t.uumaygupopdiv,"\n")}}function xe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item-divider",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().loadData()}),e.TgZ(1,"ion-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}2&n&&(e.xp6(2),e.hij("\n",e.lcZ(3,1,"messenger.loadmore"),"\n"))}function ve(n,c){if(1&n&&(e.TgZ(0,"ion-item-divider",47),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.hij("\n",t.dataconverty?t.newdata:i.convertMonth(t),"\n")}}function ye(n,c){if(1&n&&e._UZ(0,"span",56),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.message,e.oJD)}}function be(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"img",64),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function Te(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"video",65),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function Pe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"audio",66),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function we(n,c){if(1&n&&(e.TgZ(0,"a",67),e.ALo(1,"safe"),e._uU(2),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.s9C("download",t.files.name),e.Q6J("href",e.lcZ(1,3,t.fileurl),e.LSH),e.xp6(2),e.Oqu(t.files.name)}}function Me(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",68),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().getFileContent(s.fileurl)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.files.name)}}function De(n,c){if(1&n&&(e.TgZ(0,"a"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.files.name)}}function Ie(n,c){if(1&n&&(e.TgZ(0,"div",69),e.TgZ(1,"label",30),e._uU(2,"0%"),e.qZA(),e._UZ(3,"progress",70),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.MGl("id","files-containerd",t.fileuuid,""),e.xp6(1),e.MGl("id","files-label",t.fileuuid,""),e.xp6(2),e.s9C("max",t.progressmax),e.MGl("id","files-pross",t.fileuuid,"")}}function Ze(n,c){if(1&n&&(e.TgZ(0,"span",57),e.YNc(1,be,2,5,"img",58),e.YNc(2,Te,2,5,"video",59),e.YNc(3,Pe,2,5,"audio",60),e.YNc(4,we,3,5,"a",61),e.YNc(5,Me,2,1,"a",62),e.YNc(6,De,2,1,"a",43),e.YNc(7,Ie,4,4,"div",63),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf","image"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","video"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","audio"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","end"==t.filestatus&&"desktopwebs"==i.desktopwebs),e.xp6(1),e.Q6J("ngIf","end"==t.filestatus&&"mobilesall"==i.desktopwebs),e.xp6(1),e.Q6J("ngIf","start"==t.filestatus),e.xp6(1),e.Q6J("ngIf","start"==t.filestatus)}}function Ce(n,c){1&n&&(e.TgZ(0,"span",76),e._UZ(1,"ion-spinner",77),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"messenger.mediadowlonadds"),"\n"))}function Ae(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",71),e.TgZ(1,"ion-item",72),e.TgZ(2,"ion-icon",73),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit;return e.oxw().playMusicCTRL(s)}),e.qZA(),e.TgZ(3,"ion-label"),e._UZ(4,"ion-progress-bar",74),e.qZA(),e.qZA(),e.YNc(5,Ce,4,3,"span",75),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.MGl("id","musicplaypaueicon",t.id,""),e.xp6(2),e.MGl("id","musicpross",t.id,""),e.xp6(1),e.Q6J("ngIf",t.dowloands)}}function ke(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"img",80),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().openPhotoCTRL(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Q6J("src",e.lcZ(1,1,t.tumbimages),e.LSH)}}function Se(n,c){1&n&&(e.TgZ(0,"span",76),e._UZ(1,"ion-spinner",77),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"messenger.mediadowlonadds"),"\n"))}function Ee(n,c){if(1&n&&(e.TgZ(0,"span",78),e.YNc(1,ke,2,3,"img",79),e.YNc(2,Se,4,3,"span",75),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.tumbimages),e.xp6(1),e.Q6J("ngIf",t.dowloands)}}function Oe(n,c){1&n&&e._UZ(0,"ion-icon",81)}const Ne=function(n){return{"user-msg-padding":n}};function Je(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-item",48),e.TgZ(2,"div",49),e.YNc(3,ye,1,1,"span",50),e.YNc(4,Ze,8,7,"span",51),e.YNc(5,Ae,6,3,"span",52),e.YNc(6,Ee,3,2,"span",53),e.TgZ(7,"small",54),e.YNc(8,Oe,1,0,"ion-icon",55),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw(),i=t.index,s=t.last,a=t.$implicit,l=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(7,Ne,"me"!==(null==l.chats[i+1]?null:l.chats[i+1].type)&&!s)),e.xp6(1),e.Q6J("ngIf",!a.files&&!a.audiomintype&&!a.photo),e.xp6(1),e.Q6J("ngIf",a.files&&!a.audiomintype&&!a.photo),e.xp6(1),e.Q6J("ngIf",!a.files&&a.audiomintype&&!a.photo),e.xp6(1),e.Q6J("ngIf",!a.files&&!a.audiomintype&&a.photo),e.xp6(2),e.Q6J("ngIf",a.files),e.xp6(1),e.hij("\n",a.clock,"")}}function Le(n,c){if(1&n&&e._UZ(0,"span",56),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.message,e.oJD)}}function Ye(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"img",64),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function Ue(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"video",65),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function Qe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"audio",88),e.NdJ("error",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)})("onerror",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().onerror(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Udp("display",t.loaded?"none":""),e.Q6J("src",e.lcZ(1,3,t.fileurl),e.LSH)}}function qe(n,c){if(1&n&&(e.TgZ(0,"a",67),e.ALo(1,"safe"),e._uU(2),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.s9C("download",t.files.name),e.Q6J("href",e.lcZ(1,3,t.fileurl),e.LSH),e.xp6(2),e.Oqu(t.files.name)}}function Fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",68),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().getFileContent(s.fileurl)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.files.name)}}function Re(n,c){if(1&n&&(e.TgZ(0,"a"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.files.name)}}function Ge(n,c){if(1&n&&(e.TgZ(0,"div",69),e.TgZ(1,"label",30),e._uU(2,"0%"),e.qZA(),e._UZ(3,"progress",70),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.MGl("id","files-containerd",t.fileuuid,""),e.xp6(1),e.MGl("id","files-label",t.fileuuid,""),e.xp6(2),e.s9C("max",t.progressmax),e.MGl("id","files-pross",t.fileuuid,"")}}function He(n,c){if(1&n&&(e.TgZ(0,"span",57),e.YNc(1,Ye,2,5,"img",58),e.YNc(2,Ue,2,5,"video",59),e.YNc(3,Qe,2,5,"audio",87),e.YNc(4,qe,3,5,"a",61),e.YNc(5,Fe,2,1,"a",62),e.YNc(6,Re,2,1,"a",43),e.YNc(7,Ge,4,4,"div",63),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf","image"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","video"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","audio"==t.filetypemin&&"end"==t.filestatus&&!t.loaded),e.xp6(1),e.Q6J("ngIf","end"==t.filestatus&&"desktopwebs"==i.desktopwebs),e.xp6(1),e.Q6J("ngIf","end"==t.filestatus&&"mobilesall"==i.desktopwebs),e.xp6(1),e.Q6J("ngIf","start"==t.filestatus),e.xp6(1),e.Q6J("ngIf","start"==t.filestatus)}}function Be(n,c){1&n&&(e.TgZ(0,"span",76),e._UZ(1,"ion-spinner",77),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"messenger.mediadowlonadds"),"\n"))}function $e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",89),e.TgZ(1,"ion-item",72),e.TgZ(2,"ion-icon",73),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit;return e.oxw().playMusicCTRL(s)}),e.qZA(),e.TgZ(3,"ion-label"),e._UZ(4,"ion-progress-bar",74),e.qZA(),e.qZA(),e.YNc(5,Be,4,3,"span",75),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.MGl("id","musicplaypaueicon",t.id,""),e.xp6(2),e.MGl("id","musicpross",t.id,""),e.xp6(1),e.Q6J("ngIf",t.dowloands)}}function je(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"img",80),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3).$implicit;return e.oxw().openPhotoCTRL(s)}),e.ALo(1,"safe"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Q6J("src",e.lcZ(1,1,t.tumbimages),e.LSH)}}function ze(n,c){1&n&&(e.TgZ(0,"span",76),e._UZ(1,"ion-spinner",77),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"messenger.mediadowlonadds"),"\n"))}function We(n,c){if(1&n&&(e.TgZ(0,"span",78),e.YNc(1,je,2,3,"img",79),e.YNc(2,ze,4,3,"span",75),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.tumbimages),e.xp6(1),e.Q6J("ngIf",t.dowloands)}}function Ke(n,c){1&n&&e._UZ(0,"ion-icon",81)}function Ve(n,c){1&n&&(e.TgZ(0,"p",90),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"messenger.nomessageoffline")))}function Xe(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-item",82),e.TgZ(2,"div",83),e.YNc(3,Le,1,1,"span",50),e.YNc(4,He,8,7,"span",51),e.YNc(5,$e,6,3,"span",84),e.YNc(6,We,3,2,"span",85),e.TgZ(7,"small",54),e.YNc(8,Ke,1,0,"ion-icon",55),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.YNc(10,Ve,3,3,"p",86),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",!t.files&&!t.audiomintype&&!t.photo),e.xp6(1),e.Q6J("ngIf",t.files&&!t.audiomintype&&!t.photo),e.xp6(1),e.Q6J("ngIf",!t.files&&t.audiomintype&&!t.photo),e.xp6(1),e.Q6J("ngIf",!t.files&&!t.audiomintype&&t.photo),e.xp6(2),e.Q6J("ngIf",t.files),e.xp6(1),e.hij("\n",t.clock,"\n"),e.xp6(1),e.Q6J("ngIf","offline"==t.ctype)}}function et(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item-sliding",40,41),e.NdJ("ionDrag",function(s){e.CHM(t);const a=e.MAs(1);return e.oxw().messageDraged(s,a)}),e._uU(2),e.YNc(3,ve,3,1,"ion-item-divider",42),e.YNc(4,Je,10,9,"ng-container",43),e.YNc(5,Xe,11,7,"ng-container",43),e.TgZ(6,"ion-item-options",44),e.TgZ(7,"ion-item-option",45),e._UZ(8,"ion-icon",46),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=c.$implicit,i=e.oxw();e.MGl("id","items",t.id,""),e.xp6(2),e.hij(" ",i.scrollBottoms(t)," "),e.xp6(1),e.Q6J("ngIf",t.newdata),e.xp6(1),e.Q6J("ngIf","user"===t.type),e.xp6(1),e.Q6J("ngIf","me"===t.type)}}function tt(n,c){1&n&&(e.TgZ(0,"ion-footer",91),e.TgZ(1,"p",92),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"messenger.noreviceroff"),"\n"))}function it(n,c){1&n&&e._UZ(0,"ion-icon",98)}function nt(n,c){1&n&&e._UZ(0,"ion-spinner",99)}function st(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).sendFilesPhoto()}),e.YNc(1,it,1,0,"ion-icon",96),e.YNc(2,nt,1,0,"ion-spinner",97),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled","offline"==t.user.status||t.photoloaders),e.xp6(1),e.Q6J("ngIf",!t.photoloaders),e.xp6(1),e.Q6J("ngIf",t.photoloaders)}}function ot(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",100),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).sendFiles()}),e._UZ(1,"ion-icon",101),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled","offline"==t.user.status)}}function at(n,c){if(1&n&&(e.TgZ(0,"ion-buttons",0),e.YNc(1,st,3,3,"ion-button",93),e.YNc(2,ot,2,1,"ion-button",94),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.user),e.xp6(1),e.Q6J("ngIf",t.user&&"desktopwebs"==t.desktopwebs)}}function rt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-textarea",102),e.NdJ("ionChange",function(){return e.CHM(t),e.oxw().ionChange()})("ionFocus",function(){return e.CHM(t),e.oxw().ionFocus()}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("placeholder",e.lcZ(1,2,"messages_title"))("formControl",t.messageControl)}}function lt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).voiceRecords()}),e._UZ(1,"ion-icon",104),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled","offline"==t.user.status)}}function ct(n,c){if(1&n&&(e.TgZ(0,"ion-buttons",103),e.YNc(1,lt,2,1,"ion-button",93),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.user&&!t.messageControl.valid&&!t.records)}}function dt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",106),e.NdJ("mousedown",function(s){return e.CHM(t),e.oxw(2).sendMessage(s)}),e._UZ(1,"ion-icon",107),e.qZA()}}function gt(n,c){if(1&n&&(e.TgZ(0,"ion-buttons",103),e.YNc(1,dt,2,0,"ion-button",105),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.messageControl.valid&&!t.records)}}function _t(n,c){1&n&&(e.TgZ(0,"div",112),e._UZ(1,"div",113),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"div",114),e._uU(5,"00:00:00"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\n",e.lcZ(3,1,"messenger.recordings")," "))}function mt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",115),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cancelRecord()}),e._UZ(1,"ion-icon",116),e.qZA()}}function ut(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",117),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).stopRecord()}),e._UZ(1,"ion-icon",107),e.qZA()}}function pt(n,c){if(1&n&&(e.TgZ(0,"ion-buttons",108),e.YNc(1,_t,6,3,"div",109),e.YNc(2,mt,2,0,"ion-button",110),e.YNc(3,ut,2,0,"ion-button",111),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.messageControl.valid&&t.records),e.xp6(1),e.Q6J("ngIf",!t.messageControl.valid&&t.records),e.xp6(1),e.Q6J("ngIf",!t.messageControl.valid&&t.records)}}const ge="SESSION",E="PEOPLE_DATA_",O="MESSAGE_DETAIL_DATA_",J="MESSAGE_DETAIL_DATA_SENDLOOP",V=T.tP.Documents,X="holla-messenger",_e="holla-audio",me="holla-photo";let ht=(()=>{class n{constructor(t,i,s,a,l,r,g,x,_,u,p,v){this.route=t,this.alertController=i,this.localStorageService=s,this.generalFunctions=a,this.modalCtrl=l,this.navParams=r,this.zone=g,this.cdref=x,this.sanitizer=_,this.platform=u,this.musicController=p,this.dataConfig=v,this.userId=null,this.chats=[],this.cache=[],this.messageControl=new q.NI("",[q.kI.required]),this.pageScrolling=!1,this.isAllowScroll=!0,this.scrolling=!1,this.subscriptions=[],this.items={fullName:"NoNe",photo:"none",userid:"",desc_status:"Hey there! I am using Holla Messenger.",isOnly:"offline"},this.viebled=!1,this.listloadnum=25,this.loadmores=!1,this.uumaygupopdiv=0,this.uumaygupopdivreal=!1,this.noofflinemssage=!1,this.writer=!1,this.records=!1,this.counts=0,this.music=j.g,this.photoloaders=!1,this.chatDizayn={name:"",image:"",visebled:!1},this.chatDizaynColor={name:"",image:"",visebled:!1},this.route.params.subscribe(b=>{this.userId=b.id}),this.desktopwebs=this.platform.is("mobile")?"mobilesall":"desktopwebs"}getFileContent(t){t&&window.open(t,"_blabk")}onerror(t){t.loaded=!0}voiceRecords(){D.canDeviceVoiceRecord().then(t=>{t.value&&D.requestAudioRecordingPermission().then(i=>{i.value&&D.hasAudioRecordingPermission().then(s=>{s.value&&D.startRecording().then(a=>{this.records=!0,this.counts=0,this.myTimer=setInterval(()=>{this.myClock()},1e3)}).catch(a=>{})})})})}myClock(){var t=document.getElementById("recortimess");this.counts=this.counts+1;var i=this.counts,s=new Date(0);s.setSeconds(i);var a=s.toISOString().substr(11,8);t&&(t.innerHTML=a)}cancelRecord(){D.stopRecording().then(t=>{}).catch(t=>{}),this.records=!1,this.counts=0,clearInterval(this.myTimer)}playMusicCTRL(t){return(0,d.mG)(this,void 0,void 0,function*(){this.opendowmedia?console.log("Wait"):t.dowloands||(yield this.dowloandPwaMedia(t,"get_audio",t.audio))})}playMusic(t){return(0,d.mG)(this,void 0,void 0,function*(){if("stop"==this.localStorageService.getItem("playingSongType"+this.userData.userid)&&(this.playingSongId=""),this.playingSongId!=t.id){var a;document.getElementById("musicplaypaueicon"+this.playingSongId)&&(document.getElementById("musicplaypaueicon"+this.playingSongId).name="play"),this.playingSongId=t.id,this.localStorageService.setItem("playingSongType"+this.userData.userid,"play"),document.getElementById("musicpross"+this.playingSongId)&&(document.getElementById("musicpross"+this.playingSongId).type="indeterminate"),(!(a="user"==t.type?this.user.photo:this.userData.photo)||"none"==a)&&(a="assets/images/avatars/0.jpg");var l={id:t.id,image:a,song:t.message,author:t.name,time:t.audioduration,audio:yield this.readSecretFileAudioGet(t)};yield this.musicController.playMusic(l)}})}openPhotoCTRL(t){return(0,d.mG)(this,void 0,void 0,function*(){this.opendowmedia?console.log("wait"):t.dowloands||(yield this.dowloandPwaMedia(t,"get_photo",t.photo))})}dowloandPwaMedia(t,i,s){return(0,d.mG)(this,void 0,void 0,function*(){if((yield this.readSecretFilePhotoGet(t))||(yield this.readSecretFileAudioGet(t)))"get_photo"==i&&(yield this.openPhoto(t)),"get_audio"==i&&(yield this.playMusic(t));else{if(t.dowloands=!0,this.opendowmedia=t,"pwa"==this.userData.logintype)var a="pwa";else a="mobile";this.connection.send({token:this.userData.userid,g_type:"get_media",local:a,indata:{name:s,type:i,reciveruserid:this.userid}})}})}openPhoto(t){return(0,d.mG)(this,void 0,void 0,function*(){var i,s,a,l;if(this.platform.is("mobile")?(i="nomusiccontrols",s=N.LT,a=N.MD):(i="pcandwebdesig nomusiccontrols",s="",a="",l=";"),!this.modal3)return this.modal3=yield this.modalCtrl.create({component:G.a,componentProps:{photo:yield this.readSecretFilePhotoGet(t)},mode:"ios",cssClass:i,swipeToClose:!0,showBackdrop:!0,backdropDismiss:!0,enterAnimation:s,leaveAnimation:a,presentingElement:l}),this.modal3.onDidDismiss().then(r=>{this.modal3=null}),yield this.modal3.present();this.modal3.dismiss({data:!0}),this.modal3=null})}profile(t){return(0,d.mG)(this,void 0,void 0,function*(){var i,s,a,l;if(this.platform.is("mobile")?(i="nomusiccontrols",s=N.LT,a=N.MD):(i="pcandwebdesig profilethem",s="",a="",l=";"),!this.modal4)return this.modal4=yield this.modalCtrl.create({component:te.Gk,componentProps:{user:t},mode:"ios",cssClass:i,swipeToClose:!0,showBackdrop:!0,backdropDismiss:!0,enterAnimation:s,leaveAnimation:a,presentingElement:l}),this.platform.is("mobile")||document.getElementById("messagedetailmodals").classList.toggle("pwaprofileopenmessage"),this.modal4.onDidDismiss().then(g=>{this.modal4=null}),yield this.modal4.present();this.modal4.dismiss({data:!0}),this.modal4=null,this.platform.is("mobile")||document.getElementById("messagedetailmodals").classList.toggle("pwaprofileopenmessage")})}stopRecord(){D.stopRecording().then(t=>{this.records=!1,this.records=!1,this.counts=0,clearInterval(this.myTimer),this.sendManuelType(this.generalFunctions.xtranslate("messenger.audiorecordsends"),"audio",t,t.value.mimeType)}).catch(t=>{console.log(t)})}convertURIToBinary(t){let i=";base64,",s=t.indexOf(i)+i.length,a=t.substring(s),l=window.atob(a),r=l.length,g=new Uint8Array(new ArrayBuffer(r));for(let x=0;x<r;x++)g[x]=l.charCodeAt(x);return g}writeSecretFilePhoto(t,i){return(0,d.mG)(this,void 0,void 0,function*(){yield T.fy.writeFile({path:X+"/"+me+"/"+t,data:i,directory:V,encoding:T.ez.UTF8})})}readSecretFilePhotoGet(t){return(0,d.mG)(this,void 0,void 0,function*(){try{return(yield T.fy.readFile({path:X+"/"+me+"/"+t.photo,directory:V,encoding:T.ez.UTF8})).data}catch(i){return!1}})}writeSecretFileAudio(t,i){return(0,d.mG)(this,void 0,void 0,function*(){yield T.fy.writeFile({path:X+"/"+_e+"/"+t,data:i,directory:V,encoding:T.ez.UTF8})})}readSecretFileAudioGet(t){return(0,d.mG)(this,void 0,void 0,function*(){try{return(yield T.fy.readFile({path:X+"/"+_e+"/"+t.audio,directory:V,encoding:T.ez.UTF8})).data}catch(i){return""}})}sendManuelType(t,i,s,a){return(0,d.mG)(this,void 0,void 0,function*(){if(this.connection.getExtraData(this.userid),"online"==this.user.status)var r="online";else r="offline";var g=t,x=o()(this.user_encryption_token+this.userData.userid+this.userid),_="",u="",p="",v="";if("audio"==i){var b;b=s.value.recordDataBase64.startsWith("data:")?s.value.recordDataBase64:"data:audio/webm;codecs=opus;base64,"+s.value.recordDataBase64,u=this.encryptionLi(x,b,"encrypting"),p=s.value.mimeType,v=s.value.msDuration;var M="audio_"+this.GenerateSerialNumber("0000-0000000-000-000000-000-0000000")+".dataV3";yield this.writeSecretFileAudio(M,b),_=M}if("photo"==i){M="photo_"+this.GenerateSerialNumber("0000-0000000-000-000000-000-0000000")+".dataV3",yield this.writeSecretFilePhoto(M,s);var k=M,P=this.encryptionLi(x,s,"encrypting"),w=yield this.tumbImageLoad(s,"min")}var C,A=new Date,ue=A.getDate()+"."+A.getMonth()+"."+A.getFullYear(),ee=(F=this.localStorageService.getItem(O+this.userid)).findIndex(le=>le.newdata==ue);C=F[ee]?"":ue;var re=this.GenerateSerialNumber("0000-0000000-000-000000-000"),pe={id:re,message:g,date:new Date,type:"me",name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:r,g_type:i,audio:_,audiomintype:p,audioduration:v,photo:k,photoaudiotype:a,newdata:C,tumbimages:w};if(this.chats.push(pe),this.cache.push(pe),this.updatebacklist(g),this.connection.send({id:re,message:g,date:new Date,type:"me",name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:r,g_type:i,audio:u,audiomintype:p,audioduration:v,photo:P,photoaudiotype:a,tumbimages:w}),this.localStorageService.setItem(O+this.userid,this.cache),"pwa"==this.userData.logintype)var he="pwa";else he="mobile";x=o()("all_media_send:"+this.userData.userid);var F,xt=this.encryptionLi(x,w,"encrypting"),vt={id:re,message:g,date:new Date,type:"me",name:this.userData.name,clock:this.time(),avatar:"",reciveruserid:this.userid,senderid:this.userData.userid,ctype:r,g_type:i,audio:_,audiomintype:p,audioduration:v,photo:k,photoaudiotype:a,newdata:C,tumbimages:xt};this.connection.send({token:this.userData.userid,g_type:"all_media_send",local:he,indata:vt}),ee=(F=this.localStorageService.getItem(E+this.userData.userid)).findIndex(le=>le.userid==this.userid),F[ee].date=new Date,F[ee].message=g,this.localStorageService.setItem(E+this.userData.userid,F),this.scrolling||setTimeout(()=>{this.content.scrollToBottom(0)}),this.photoloaders=!1,this.cachefile=""})}sendFilesPhoto(){document.getElementById("selecImagePicker").click()}sendFiles(){this.platform.is("mobile")||document.getElementById("selecImagePickersOda").click(),this.platform.is("mobile")&&document.getElementById("selecImagePicker").click()}logScrollStart(){}logScrolling(t){if(t){t.detail.scrollTop&&(this.uppmesscrollTop=t.detail.scrollTop);var i=document.getElementById("ionitemgenels"),s=document.getElementById("contentmessagedetails");this.uppnonelonewmess=i.clientHeight-s.clientHeight+20,this.uppnonelonewmess-160<=this.uppmesscrollTop?(this.scrolling=!1,this.uumaygupopdivreal=!1,this.uumaygupopdiv=0):this.scrolling=!0}}logScrollEnd(){}messageDraged(t,i){1===t.detail.ratio&&i.closeOpened()}sendMessage(t){if(t.preventDefault(),this.connection.getExtraData(this.userid),"online"==this.user.status)var s="online";else s="offline";var r,a=o()(this.user_encryption_token+this.userData.userid+this.userid),l=this.encryptionLi(a,this.messageControl.value,"encrypting"),g=new Date,p=g.getDate()+"."+g.getMonth()+"."+g.getFullYear(),v=this.localStorageService.getItem(O+this.userid),b=v.findIndex($=>$.newdata==p);r=v[b]?"":p;var M=this.GenerateSerialNumber("0000-0000000-000-000000-000"),k={id:M,message:this.messageControl.value,date:new Date,type:"me",name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:s,g_type:"message",newdata:r};if(this.chats.push(k),this.cache.push(k),this.updatebacklist(this.messageControl.value),this.connection.send({id:M,message:l,date:new Date,type:"me",name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:s,g_type:"message"}),"pwa"==this.userData.logintype)var P="pwa";else P="mobile";a=o()("normal_text_send:"+this.userData.userid);var C={id:M,message:this.encryptionLi(a,this.messageControl.value,"encrypting"),date:new Date,type:"me",name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:s,g_type:"message",newdata:r};this.connection.send({token:this.userData.userid,g_type:"normal_text_send",local:P,indata:C}),this.localStorageService.setItem(O+this.userid,this.cache);var Y=this.localStorageService.getItem(E+this.userData.userid);b=Y.findIndex($=>$.userid==this.userid),Y[b].date=new Date,Y[b].message=this.messageControl.value,this.localStorageService.setItem(E+this.userData.userid,Y),this.messageControl.setValue(""),this.scrolling||setTimeout(()=>{this.content.scrollToBottom(0)})}time(){var t=new Date,s=(t.getSeconds(),t.getMinutes());return("0"+t.getHours()).substr(-2)+":"+("0"+s).substr(-2)}encryptionLi(t,i,s){if("encrypting"==s)return((g,x)=>{const _=v=>v.split("").map(b=>b.charCodeAt(0));return x.split("").map(_).map(v=>_(g).reduce((b,M)=>b^M,v)).map(v=>("0"+Number(v).toString(16)).substr(-2)).join("")})(t,btoa(unescape(encodeURIComponent(i))));if("decrypting"==s){const g=((g,x)=>x.match(/.{1,2}/g).map(p=>parseInt(p,16)).map(p=>(p=>p.split("").map(v=>v.charCodeAt(0)))(g).reduce((v,b)=>v^b,p)).map(p=>String.fromCharCode(p)).join(""))(t,i);return decodeURIComponent(escape(window.atob(g)))}}scrollBottoms(t){t.scrollbottom||(this.scrolling||(this.content.scrollToBottom(0),setTimeout(()=>{this.content.scrollToBottom(0)},500),setTimeout(()=>{this.content.scrollToBottom(0)},600)),t.scrollbottom=!0)}clickgomss(){setTimeout(()=>{this.content.scrollToBottom(0)},0)}getFileReader(){const t=new FileReader;return t.__zone_symbol__originalInstance||t}selecImagePicker(t){return(0,d.mG)(this,void 0,void 0,function*(){let s=yield new Promise((l,r)=>{this.cachefile="",this.photoloaders=!0;var g=t.srcElement.files[0];if("image"==g.type.split("/")[0]){this.cachefile=g;var x=this.getFileReader();x.onerror=()=>{l("ERR")},x.onload=()=>{null!=x.result?setTimeout(()=>l(x.result),1e3):l("ERR")},x.readAsDataURL(g)}else l("ERR")});if("ERR"!=s){let l=yield this.tumbImageLoad(s,"max");this.sendManuelType(this.generalFunctions.xtranslate("messenger.photosends"),"photo",l,this.cachefile.type),document.getElementById("selecImagePicker").value=""}else this.photoloaders=!1})}inputSelectPictureNewsPickerOda(t){if(this.platform.is("mobile")&&this.selecImagePicker(t),!this.platform.is("mobile")){var i=t.srcElement.files[0];i&&(this.connection.shareFile(i,this.userid),document.getElementById("selecImagePickersOda").value="")}}testmobileuploadclick(){return(0,d.mG)(this,void 0,void 0,function*(){document.getElementById("testmobileupload").click()})}testmobileupload(t){return(0,d.mG)(this,void 0,void 0,function*(){var i=t.srcElement.files[0];i&&(yield console.log(i),yield this.generalFunctions.ToastShowModal("Dosya Se\xe7ildi \u0130\u015flendi",2e3,"bottom"),yield this.connection.shareFile(i,this.userid),document.getElementById("testmobileupload").value="")})}updateLabel(t,i){if(-1!=t.position){var s=+t.position.toFixed(2).split(".")[1]||100;i.innerHTML=s+"%"}}updatebacklist(t){let i=document.getElementById("messagecontes"+this.userid);i&&(i.innerText=t);let s=document.getElementById("messageLooks"+this.userid);s&&(s.style.display="none")}ngOnInit(){return(0,d.mG)(this,void 0,void 0,function*(){if(yield this.dataConfig.getConf().then(l=>{this.appversion=l.version,this.serverid=l.server_id,this.serverpassword=l.server_password,this.pwamobile_encryption_token=l.pwamobile_encryption_token,this.user_encryption_token=l.user_encryption_token}),this.localStorageService.getItem(ge)){this.userData=this.localStorageService.getItem(ge)[0],this.chatDizayn=this.userData.chatDizayn,this.chatDizaynColor=this.userData.chatDizaynColor,this.connection=this.navParams.get("connection"),this.userid=this.navParams.get("userid"),this.items=this.navParams.get("items"),this.user={id:this.items.userid,name:this.items.fullName,image:this.items.photo,last_message:"",status:"offline"},this.localStorageService.removeItem(J+this.userData.userid+this.userid),this.localStorageService.removeItem("checkaudios_"+this.userData.userid+"_"+this.userid),this.localStorageService.removeItem("checkphoto_"+this.userData.userid+"_"+this.userid);var i,s=(i=this.localStorageService.getItem(E+this.userData.userid)).findIndex(l=>l.userid==this.userid);i[s].messageLook=!1,this.localStorageService.setItem(E+this.userData.userid,i),this.updateMesages=setInterval(()=>{var l=this.localStorageService.getItem(J+this.userData.userid+this.userid);if(l){var r;if(r=l.data?l.data:l,l.data.indata&&"normal_text_send"==l.data.g_type&&(this.chats.push(g=l.data.indata),this.cache.push(g),setTimeout(()=>{this.content.scrollToBottom(0)},50),this.localStorageService.removeItem(J+this.userData.userid+this.userid)),l.data.indata&&"all_media_send"==l.data.g_type&&(this.chats.push(g=l.data.indata),this.cache.push(g),setTimeout(()=>{this.content.scrollToBottom(0)},50),this.localStorageService.removeItem(J+this.userData.userid+this.userid)),l.data.indata&&"send_media"==l.data.g_type){var g=l.data.indata,x=this.opendowmedia;x.dowloands=!1,"get_photo"==l.data.indata.type&&this.openPhoto(x),"get_audio"==l.data.indata.type&&this.playMusic(x),this.opendowmedia="",this.localStorageService.removeItem(J+this.userData.userid+this.userid)}(r.reciveruserid==this.userData.userid&&r.senderid==this.userid||r.reciveruserid==this.userid&&r.senderid==this.userData.userid)&&("files"==r.g_type&&this.zone.run(()=>{var P,_=r.message,p=new Date,k=p.getDate()+"."+p.getMonth()+"."+p.getFullYear(),w=(P=this.localStorageService.getItem(O+this.userid)).findIndex(A=>A.newdata==k),C={id:r.id,message:_,date:r.date,type:r.type,name:r.fullName,avatar:"",clock:r.clock,reciveruserid:r.reciveruserid,senderid:r.senderid,ctype:r.ctype,g_type:r.g_type,files:r.files,filetype:r.type,filetypemin:r.filetypemin,filestatus:r.filestatus,fileuuid:r.fileuuid,fileurl:"",progressmax:r.progressmax,newdata:P[w]?"":k};this.chats.push(C),this.cache.push(C),this.updatebacklist(_),this.scrolling?(this.uumaygupopdivreal=!0,this.uumaygupopdiv++):setTimeout(()=>{this.content.scrollToBottom(0)},380),this.localStorageService.setItem(O+this.userid,this.cache),w=(P=this.localStorageService.getItem(E+this.userData.userid)).findIndex(A=>A.userid==this.userid),P[w].date=r.date,P[w].message=_,this.localStorageService.setItem(E+this.userData.userid,P),this.localStorageService.removeItem(J+this.userData.userid+this.userid)}),"filesend"==r.g_type&&this.zone.run(()=>{var _=r.fileuuid,u=this.chats.findIndex(p=>p.fileuuid==_);this.chats[u]&&(this.chats[u].filestatus="end",this.chats[u].fileurl=r.files.url),this.localStorageService.removeItem(J+this.userData.userid+this.userid)}),"filepross"==r.g_type&&this.zone.run(()=>{var _=r.uuid,u=r.chunk;if(document.getElementById("files-containerd"+_)){var p=document.getElementById("files-pross"+_),v=document.getElementById("files-label"+_);p.value=u.currentPosition||u.maxChunks||p.max,this.updateLabel(p,v)}this.localStorageService.removeItem(J+this.userData.userid+this.userid)})),r.reciveruserid==this.userData.userid&&r.senderid==this.userid&&("writer"==r.g_type&&this.zone.run(()=>{clearInterval(this.nextTimer),this.writer=!0,this.nextTimer=setTimeout(()=>{this.writer=!1},600),this.localStorageService.removeItem(J+this.userData.userid+this.userid)}),"message"==r.g_type&&this.zone.run(()=>{this.writer=!1,l.userid=l.userid.replace("pwa+","");var w,_=o()(this.user_encryption_token+l.userid+this.userData.userid),u=this.encryptionLi(_,r.message,"decrypting"),v=new Date,P=v.getDate()+"."+v.getMonth()+"."+v.getFullYear(),C=(w=this.localStorageService.getItem(O+this.userid)).findIndex(Y=>Y.newdata==P),A={id:r.id,message:u,date:r.date,type:"user",name:l.extra.fullName,avatar:"",clock:r.clock,reciveruserid:r.reciveruserid,senderid:r.senderid,ctype:r.ctype,g_type:r.g_type,newdata:w[C]?"":P};this.chats.push(A),this.cache.push(A),this.updatebacklist(u),this.scrolling?(this.uumaygupopdivreal=!0,this.uumaygupopdiv++):setTimeout(()=>{this.content.scrollToBottom(0)},380),this.localStorageService.setItem(O+this.userid,this.cache),C=(w=this.localStorageService.getItem(E+this.userData.userid)).findIndex(Y=>Y.userid==this.userid),w[C].date=r.date,w[C].message=u,this.localStorageService.setItem(E+this.userData.userid,w),this.localStorageService.removeItem(J+this.userData.userid+this.userid)}),("audio"==r.g_type||"photo"==r.g_type)&&this.zone.run(()=>{this.writer=!1;var P,_=r.message,p=new Date,k=p.getDate()+"."+p.getMonth()+"."+p.getFullYear(),w=(P=this.localStorageService.getItem(O+this.userid)).findIndex(A=>A.newdata==k),C={id:r.id,message:_,date:r.date,type:"user",name:l.extra.fullName,avatar:"",clock:r.clock,reciveruserid:r.reciveruserid,senderid:r.senderid,ctype:r.ctype,g_type:r.g_type,audio:r.audio,audiomintype:r.audiomintype,audioduration:r.audioduration,photo:r.photo,photoaudiotype:r.photoaudiotype,newdata:P[w]?"":k,tumbimages:l.data.tumbimages};this.chats.push(C),this.cache.push(C),this.updatebacklist(_),this.scrolling?(this.uumaygupopdivreal=!0,this.uumaygupopdiv++):setTimeout(()=>{this.content.scrollToBottom(0)},380),this.localStorageService.setItem(O+this.userid,this.cache),w=(P=this.localStorageService.getItem(E+this.userData.userid)).findIndex(A=>A.userid==this.userid),P[w].date=r.date,P[w].message=_,this.localStorageService.setItem(E+this.userData.userid,P),this.localStorageService.removeItem(J+this.userData.userid+this.userid)}))}},0),this.connection.getExtraData(this.items.userid),s=(i=this.localStorageService.getItem(E+this.userData.userid)).findIndex(l=>l.userid==this.items.userid),this.statss=setInterval(()=>{if(this.connection){this.connection.getExtraData(this.items.userid);var r=this.localStorageService.getItem(E+this.userData.userid),g=r.findIndex(x=>x.userid==this.items.userid);this.user.status=r[g].isOnly,"online"==r[g].isOnly&&setTimeout(()=>{this.noofflinemssage=!1;for(let u of this.chats)if("offline"==u.ctype&&"online"==r[g].isOnly){u.ctype="online";var x=o()(this.user_encryption_token+this.userData.userid+this.userid),_=this.encryptionLi(x,u.message,"encrypting");this.connection.send({id:u.id,message:_,date:new Date,type:u.type,name:this.userData.name,avatar:"",clock:this.time(),reciveruserid:this.userid,senderid:this.userData.userid,ctype:u.ctype,g_type:"message"}),this.localStorageService.setItem(O+this.userid,this.cache)}},1e3)}},1e3),this.user={id:this.items.userid,name:this.items.fullName,image:this.items.photo,last_message:"",status:i[s].isOnly},this.localStorageService.getItem(O+this.userid)||this.localStorageService.setItem(O+this.userid,[]),this.cache=this.localStorageService.getItem(O+this.userid),this.cache||(this.cache=[]),this.cache?(this.cachelegent=this.cache.length,this.chats=this.cachelegent<=25?this.cache.slice(0,25):this.cache.slice(this.cachelegent-this.listloadnum,this.cachelegent),this.cachelegent>25||(this.loadmores=!0)):this.loadmores=!0,setTimeout(()=>{this.viebled=!0},650)}else this.generalFunctions.navCtrlNR("/auth/login")})}loadData(){var i=document.getElementById("ionitemgenels").clientHeight;setTimeout(()=>{this.cachelegent==this.chats.length?this.loadmores=!0:(this.listloadnum=this.listloadnum+25,this.chats=this.cache.slice(this.cachelegent-this.listloadnum,this.cachelegent),setTimeout(()=>{var a=document.getElementById("items"+this.chats[0].id).getBoundingClientRect();this.content.scrollToPoint(0,i-a.top,0)},30),this.cachelegent==this.chats.length&&(this.loadmores=!0))},10)}ionFocus(){this.scrolling||setTimeout(()=>{this.content.scrollToBottom(0)})}ionChange(){this.messageControl.value?(this.noofflinemssage="offline"==this.user.status||!this.user.status,this.connection.send({date:new Date,name:this.userData.name,avatar:"",reciveruserid:this.userid,senderid:this.userData.userid,g_type:"writer"})):this.noofflinemssage=!1}call(t){return(0,d.mG)(this,void 0,void 0,function*(){var i,s,a,l;if(this.platform.is("mobile")?(i="nomusiccontrols calllives calltype"+t,s=N.LT,a=N.MD):(i="pcandwebdesig nomusiccontrols calllives calltype"+t,s="",a="",l=";"),!this.modal5)return this.modal5=yield this.modalCtrl.create({component:U.DC,componentProps:{uuserid:this.userid,type:t,user_encryption_token:this.user_encryption_token,user:this.user},mode:"ios",cssClass:i,swipeToClose:!1,showBackdrop:!0,backdropDismiss:!1,enterAnimation:s,leaveAnimation:a,presentingElement:l}),this.modal5.onDidDismiss().then(r=>{this.modal5=null}),yield this.modal5.present();this.modal5.dismiss({data:!0}),this.modal5=null})}closeModal(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.modal3)this.modal3.dismiss({data:!0}),this.modal3=null;else if(this.modal4)this.modal4.dismiss({data:!0}),this.modal4=null,this.platform.is("mobile")||document.getElementById("messagedetailmodals").classList.toggle("pwaprofileopenmessage");else{const i=this.chats.length;this.modalCtrl.dismiss({data:!0}),i&&this.localStorageService.setItem("cacheitem",this.chats[i-1].message),this.localStorageService.removeItem(J+this.userData.userid+this.userid),clearInterval(this.updateMesages),clearInterval(this.statss),clearInterval(this.myTimer),this.localStorageService.removeItem("checkaudios_"+this.userData.userid+"_"+this.userid),this.localStorageService.removeItem("checkphoto_"+this.userData.userid+"_"+this.userid)}})}ionViewDidEnter(){this.content.scrollToBottom(0)}ngOnDestroy(){this.modal3&&(this.modal3.dismiss({data:!0}),this.modal3=null),this.modal4&&(this.modal4.dismiss({data:!0}),this.modal4=null);const t=this.chats.length;t&&this.localStorageService.setItem("cacheitem",this.chats[t-1].message),this.localStorageService.removeItem(J+this.userData.userid+this.userid),clearInterval(this.updateMesages),clearInterval(this.statss),clearInterval(this.myTimer),this.localStorageService.removeItem("checkaudios_"+this.userData.userid+"_"+this.userid),this.localStorageService.removeItem("checkphoto_"+this.userData.userid+"_"+this.userid)}GenerateRandomNumber(t,i){return Math.floor(Math.random()*(i-t+1))+t}GenerateRandomChar(){var t="1234567890AaBbCcDdEeFfGgIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz";return t[this.GenerateRandomNumber(0,t.length-1)]}GenerateSerialNumber(t){var i="";if(null!=t)for(var s=0;s<t.length;s++){var a=t[s];i+="0"==a?this.GenerateRandomChar():a}return i}ngAfterViewChecked(){this.cdref.detectChanges()}tumbImageLoad(t,i){return(0,d.mG)(this,void 0,void 0,function*(){return yield new Promise((l,r)=>{let g,x;"min"==i&&(g=200,x=.2),"max"==i&&(g=800,x=.6);const _=new Image;_.src=t,_.onload=()=>(0,d.mG)(this,void 0,void 0,function*(){"max"==i&&_.width<g&&(g=_.width);const u=document.createElement("canvas");let v,b,p=u.getContext("2d");_.width>_.height?(v=g,b=g*_.height/_.width):(v=g*_.width/_.height,b=g),u.width=v,u.height=b,p.fillStyle="white",p.fillRect(0,0,v,b),p.drawImage(_,0,0,v,b);var k=yield u.toDataURL("image/jpeg",x);setTimeout(()=>l(k),1e3)})})})}convertMonth(t){if(!t.dataconverty){var s,i=t.newdata.split(".");return 0==i[1]&&(s=i[1].replace("0","01")),1==i[1]&&(s=i[1].replace("1","02")),2==i[1]&&(s=i[1].replace("2","03")),3==i[1]&&(s=i[1].replace("3","04")),4==i[1]&&(s=i[1].replace("4","05")),5==i[1]&&(s=i[1].replace("5","06")),6==i[1]&&(s=i[1].replace("6","07")),7==i[1]&&(s=i[1].replace("7","08")),8==i[1]&&(s=i[1].replace("8","09")),9==i[1]&&(s=i[1].replace("9","10")),10==i[1]&&(s=i[1].replace("10","11")),11==i[1]&&(s=i[1].replace("11","12")),t.newdata=i[0]+"."+s+"."+i[2],t.dataconverty=!0,t.newdata}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie.gz),e.Y36(h.Br),e.Y36(ne.n),e.Y36(se.f),e.Y36(h.IN),e.Y36(h.X1),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(z.H7),e.Y36(h.t4),e.Y36(j.n),e.Y36(W.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-message-detail"]],viewQuery:function(t,i){if(1&t&&(e.Gf(h.W2,5),e.Gf(h.aJ,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.content=s.first),e.iGM(s=e.CRH())&&(i.virtualScroll=s.first)}},decls:29,vars:29,consts:[["slot","start"],["color","dark",3,"click"],["slot","icon-only","name","chevron-back-outline"],["lines","none",4,"ngIf"],["slot","end",2,"padding-right","7px"],["class","yenimesajbtn","color","dark",3,"disabled","click",4,"ngIf"],[1,"newbackgrouds"],[1,"newbackgroudsimg"],["id","contentmessagedetails",3,"scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"],["id","ionitemgenels",1,"messages-item-group","newmessageallcs",2,"padding-top","15px"],["sticky","","class","message-divider scrolling",3,"click",4,"ngIf"],["sticky","","class","message-divider",3,"click",4,"ngIf"],["disabled","","class","message-item-sliding",3,"id","ionDrag",4,"ngFor","ngForOf"],["class","ion-no-border",4,"ngIf"],[2,"min-height","44px"],["id","files-containerd"],[1,"files-container"],["id","selecImagePickersOda","min","1","max","1","type","file","accept","*",1,"displaynonesss",2,"display","none",3,"change"],["id","selecImagePicker","min","1","max","1","type","file","accept","image/*",1,"displaynonesss",2,"display","none",3,"change"],["id","testmobileupload","min","1","max","1","type","file","accept","*",1,"displaynonesss",2,"display","none",3,"change"],[2,"height","auto"],["slot","start",4,"ngIf"],["style","--min-height: 44px; min-height: 44px; --max-height: 500px;","id","messageids","autofocus","","style","margin-top: 0;","autoGrow","","rows","1","class","message-textarea",3,"placeholder","formControl","ionChange","ionFocus",4,"ngIf"],["slot","end",4,"ngIf"],["style","width: 100%;","slot","end",4,"ngIf"],["lines","none"],["slot","start",3,"click"],[3,"id","src",4,"ngIf"],["src","assets/images/avatars/0.jpg",3,"id",4,"ngIf"],[1,"ion-no-margin",3,"click"],[3,"id"],["class","ion-no-margin",4,"ngIf"],[3,"id","src"],["src","assets/images/avatars/0.jpg",3,"id"],[1,"ion-no-margin"],["color","dark",1,"yenimesajbtn",3,"disabled","click"],["slot","icon-only","name","call-outline"],["slot","icon-only","name","videocam-outline"],["sticky","",1,"message-divider","scrolling",3,"click"],["sticky","",1,"message-divider",3,"click"],["disabled","",1,"message-item-sliding",3,"id","ionDrag"],["slidingItem",""],["sticky","","class","message-divider",4,"ngIf"],[4,"ngIf"],["side","end",1,"no-border"],["disabled","",2,"--background","var(--ion-item-background)"],["slot","icon-only","name","arrow-undo-outline","color","primary"],["sticky","",1,"message-divider"],["lines","none",1,"message-user"],[1,"message-container",2,"margin-left","0","border-bottom-left-radius","0px",3,"ngClass"],["class","text",3,"innerHTML",4,"ngIf"],["class","text",4,"ngIf"],["class","text audioreayou","style","white-space: normal;",4,"ngIf"],["style","white-space: normal;","class","text",4,"ngIf"],[1,"time"],["name","document-outline",4,"ngIf"],[1,"text",3,"innerHTML"],[1,"text"],[3,"display","src","error","onerror",4,"ngIf"],["controls","","controlsList","nodownload","style","width: 100%;",3,"display","src","error","onerror",4,"ngIf"],["controls","","controlsList","nodownload nofullscreen nospeed noplaybackrate noremoteplayback","style","width: 100%;",3,"display","src","error","onerror",4,"ngIf"],["target","_blank",3,"href","download",4,"ngIf"],["target","_blank",3,"click",4,"ngIf"],["style","display: flex;align-items: center;margin-top: 10px;width: 100%;min-width: 200px;",3,"id",4,"ngIf"],[3,"src","error","onerror"],["controls","","controlsList","nodownload",2,"width","100%",3,"src","error","onerror"],["controls","","controlsList","nodownload nofullscreen nospeed noplaybackrate noremoteplayback",2,"width","100%",3,"src","error","onerror"],["target","_blank",3,"href","download"],["target","_blank",3,"click"],[2,"display","flex","align-items","center","margin-top","10px","width","100%","min-width","200px",3,"id"],["value","0",2,"width","100%","margin-left","15px",3,"max","id"],[1,"text","audioreayou",2,"white-space","normal"],["button","","detail","false",1,"newaudoidplayer"],["name","play","slot","start",3,"id","click"],["type","","value","0",3,"id"],["style","display: flex;align-items: center;margin-top: 5px;justify-content: center;",4,"ngIf"],[2,"display","flex","align-items","center","margin-top","5px","justify-content","center"],["name","crescent",2,"width","20px","height","20px","margin-right","6px"],[1,"text",2,"white-space","normal"],["style","width: 100%;",3,"src","click",4,"ngIf"],[2,"width","100%",3,"src","click"],["name","document-outline"],["lines","none",1,"message-me"],["slot","end",1,"message-container",2,"border-bottom-right-radius","0px"],["class","text audioreame","style","white-space: normal;",4,"ngIf"],["style","white-space: normal","class","text",4,"ngIf"],["style","\ntext-align: right;\npadding: 0 0 0 0px;\nmargin: 7px 15px 10px 7px;\nfont-size: 12px;\n",4,"ngIf"],["controls","","controlsList","nodownload nodownload nofullscreen nospeed noplaybackrate noremoteplayback","style","width: 100%;",3,"display","src","error","onerror",4,"ngIf"],["controls","","controlsList","nodownload nodownload nofullscreen nospeed noplaybackrate noremoteplayback",2,"width","100%",3,"src","error","onerror"],[1,"text","audioreame",2,"white-space","normal"],[2,"text-align","right","padding","0 0 0 0px","margin","7px 15px 10px 7px","font-size","12px"],[1,"ion-no-border"],[2,"margin","0","background","rgb(221 221 221 / 32%)","padding","10px 10px 10px 10px","font-size","14px"],["style","--background: rgb(244 245 248 / 1%);",3,"disabled","click",4,"ngIf"],["style","display: none; --background: rgb(244 245 248 / 1%);",3,"disabled","click",4,"ngIf"],[2,"--background","rgb(244 245 248 / 1%)",3,"disabled","click"],["slot","icon-only","name","image-outline","color","primary",4,"ngIf"],["name","crescent",4,"ngIf"],["slot","icon-only","name","image-outline","color","primary"],["name","crescent"],[2,"display","none","--background","rgb(244 245 248 / 1%)",3,"disabled","click"],["slot","icon-only","name","add-circle-outline","color","primary"],["id","messageids","autofocus","","autoGrow","","rows","1",1,"message-textarea",2,"margin-top","0",3,"placeholder","formControl","ionChange","ionFocus"],["slot","end"],["slot","icon-only","name","mic-outline","color","primary"],["style","--background: rgb(244 245 248 / 1%);",3,"mousedown",4,"ngIf"],[2,"--background","rgb(244 245 248 / 1%)",3,"mousedown"],["slot","icon-only","name","send-outline","color","primary"],["slot","end",2,"width","100%"],["class","recordisss",4,"ngIf"],["style","--background: rgb(244 245 248 / 1%); margin-right: 15px;",3,"click",4,"ngIf"],["style","--background: rgb(244 245 248 / 1%); margin-right: 5px;",3,"click",4,"ngIf"],[1,"recordisss"],[1,"record","recording"],["id","recortimess"],[2,"--background","rgb(244 245 248 / 1%)","margin-right","15px",3,"click"],["slot","icon-only","name","mic-off-outline","color","danger"],[2,"--background","rgb(244 245 248 / 1%)","margin-right","5px",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",0),e.TgZ(3,"ion-button",1),e.NdJ("click",function(){return i.closeModal()}),e._UZ(4,"ion-icon",2),e.qZA(),e.qZA(),e.YNc(5,Q,10,7,"ion-item",3),e.TgZ(6,"ion-buttons",4),e.YNc(7,H,2,1,"ion-button",5),e.YNc(8,de,2,1,"ion-button",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"div",7),e.qZA(),e.TgZ(11,"ion-content",8),e.NdJ("ionScrollStart",function(){return i.logScrollStart()})("ionScroll",function(a){return i.logScrolling(a)})("ionScrollEnd",function(){return i.logScrollEnd()}),e.TgZ(12,"ion-item-group",9),e.YNc(13,fe,3,1,"ion-item-divider",10),e.YNc(14,xe,4,3,"ion-item-divider",11),e.YNc(15,et,9,5,"ion-item-sliding",12),e.qZA(),e.qZA(),e.YNc(16,tt,4,3,"ion-footer",13),e.TgZ(17,"ion-footer",14),e._UZ(18,"div",15),e._UZ(19,"div",16),e.TgZ(20,"input",17),e.NdJ("change",function(a){return i.inputSelectPictureNewsPickerOda(a)}),e.qZA(),e.TgZ(21,"input",18),e.NdJ("change",function(a){return i.selecImagePicker(a)}),e.qZA(),e.TgZ(22,"input",19),e.NdJ("change",function(a){return i.testmobileupload(a)}),e.qZA(),e.TgZ(23,"ion-toolbar",20),e.YNc(24,at,3,2,"ion-buttons",21),e.YNc(25,rt,2,4,"ion-textarea",22),e.YNc(26,ct,2,1,"ion-buttons",23),e.YNc(27,gt,2,1,"ion-buttons",23),e.YNc(28,pt,4,3,"ion-buttons",24),e.qZA(),e.qZA()),2&t&&(e.Gre("ion-no-border ",i.desktopwebs,"headnewspwa"),e.xp6(5),e.Q6J("ngIf",i.user),e.xp6(2),e.Q6J("ngIf",i.user),e.xp6(1),e.Q6J("ngIf",i.user),e.xp6(1),e.Udp("background-color",i.chatDizaynColor.color),e.xp6(1),e.Udp("background-image","url("+i.chatDizayn.image+")"),e.xp6(1),e.Tol(i.desktopwebs),e.Q6J("scrollY",i.isAllowScroll)("scrollEvents",!0),e.xp6(1),e.Udp("opacity",i.viebled?"1":"0"),e.xp6(1),e.Q6J("ngIf",i.uumaygupopdivreal),e.xp6(1),e.Q6J("ngIf",!i.loadmores),e.xp6(1),e.Q6J("ngForOf",i.chats),e.xp6(1),e.Q6J("ngIf",i.noofflinemssage),e.xp6(1),e.Gre("ion-no-border ",i.desktopwebs,"ionfooterpwa"),e.xp6(7),e.Q6J("ngIf",!i.messageControl.valid&&!i.records),e.xp6(1),e.Q6J("ngIf",!i.records),e.xp6(1),e.Q6J("ngIf",!i.messageControl.valid&&!i.records),e.xp6(1),e.Q6J("ngIf",i.messageControl.valid&&!i.records),e.xp6(1),e.Q6J("ngIf",!i.messageControl.valid&&i.records))},directives:[h.Gu,h.sr,h.Sm,h.YG,h.gu,K.O5,h.W2,h.Ub,K.sg,h.fr,h.Ie,h.BJ,h.Q$,h.rH,h.td,h.IK,h.u8,K.mk,h.X7,h.PQ,h.g2,h.j9,q.JJ,q.oH],pipes:[oe.X$,ae],styles:['ion-content[_ngcontent-%COMP%], .messages-item-group[_ngcontent-%COMP%]{--background: var(--ion-item-background)}.message-divider[_ngcontent-%COMP%]{position:relative;z-index:4;width:120px;margin:15px auto 25px;border-radius:20px;cursor:pointer;--padding-end: 0px;--padding-start: 0px;--inner-padding-end: 0px;--ion-safe-area-left: 0px;--ion-safe-area-right: 0px}.message-divider.scrolling[_ngcontent-%COMP%]{position:sticky;top:10px}.message-divider[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:normal;text-align:center}.messages-item-group[_ngcontent-%COMP%]:last-child{margin-bottom:20px}.messages-item-group[_ngcontent-%COMP%]   .message-item-sliding[_ngcontent-%COMP%]:first-of-type   .message-container[_ngcontent-%COMP%]{margin-top:0}.messages-item-group[_ngcontent-%COMP%]   .message-user[_ngcontent-%COMP%], .messages-item-group[_ngcontent-%COMP%]   .message-me[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 0px;--ion-safe-area-left: 0px;--min-height: 32px}.messages-item-group[_ngcontent-%COMP%]   .message-user[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{position:sticky;top:0px;margin-right:0;margin-inline-end:8px;width:26px;height:26px}.messages-item-group[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{position:relative;background:rgb(var(--ion-color-primary-rgb),.2);border-radius:12px;padding:6px 10px;margin-top:12px;margin-left:0;margin-right:0;margin-inline-start:0px;margin-inline-end:0px;max-width:90%}.messages-item-group[_ngcontent-%COMP%]   .message-container.user-msg-padding[_ngcontent-%COMP%]{margin-left:33px}.messages-item-group[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-weight:400;font-size:15px;white-space:pre-wrap;margin-right:30px}.messages-item-group[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]:after{content:"";width:3.4em;height:12px;display:inline-block;vertical-align:top;visibility:hidden;font-size:11px}.messages-item-group[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;padding:4px 8px 4px 4px;line-height:14px;pointer-events:auto;color:var(--ion-color-medium);margin-bottom:2px;margin-right:2px}.message-textarea[_ngcontent-%COMP%]{--background: var(--ion-color-light);border-radius:20px;--padding-top: 10px;--padding-end: 10px;--padding-bottom: 10px;--padding-start: 10px}.audioreame[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:rgb(var(--ion-color-primary-rgb),.1)}.recordisss[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-left:13px}.recordisss[_ngcontent-%COMP%]   #recortimess[_ngcontent-%COMP%]{padding:0 15px;font-weight:700}.recordisss[_ngcontent-%COMP%]   .record[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#cd240d;border-radius:50%;margin-right:11px}.recordisss[_ngcontent-%COMP%]   .recording[_ngcontent-%COMP%]{animation:fade 2s ease-in-out infinite}@keyframes fade{0%,to{opacity:.5}50%{opacity:1;box-shadow:0 0 4px #cd240d}}.desktopwebs[_ngcontent-%COMP%]   .newmessageallcs[_ngcontent-%COMP%]{padding-top:15px;margin:0 60px;padding-bottom:15px}.desktopwebs[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:330px!important;display:block}.desktopwebsionfooterpwa[_ngcontent-%COMP%]{padding:5px 60px}.desktopwebsionfooterpwa[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff;border-radius:55px;padding:0 10px;margin-bottom:15px}ion-item-sliding[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{--background: none}.message-me[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background:#eeffde}.message-me[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:#eeffde}.message-me[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .audioreame[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:#eeffde}.message-user[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background:#fbfbfb}.message-user[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:#fbfbfb}.message-user[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .audioreayou[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:#fbfbfb}.message-divider[_ngcontent-%COMP%]{background:white}ion-content[_ngcontent-%COMP%]{--background: none}.newaudoidplayer[_ngcontent-%COMP%]{width:100%;min-width:270px;--padding: 0;--inner-border-width: 0;--padding-start: 6px;--padding-end: 6px;--inner-padding-end: 0;margin-bottom:-10px;--color: #4c8dff;--background: none !important;--background-hover: none !important;--background-focused: none !important;--background-activated: none !important}.newaudoidplayer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:23px}.message-textarea[_ngcontent-%COMP%]{min-height:44px;--min-height: 44px;max-height:500px;--max-height: 500px}']}),n})()},4629:(ce,B,m)=>{m.d(B,{Gk:()=>ae});var d=m(4762),h=m(4452),q=m(576),R=m(5527),o=m(3018),Z=m(4490),D=m(7635),N=m(887),T=m(8583),U=m(4540);function G(y,L){if(1&y&&o._UZ(0,"img",17),2&y){const f=o.oxw(3);o.Q6J("src",f.user.photo,o.LSH)}}function te(y,L){1&y&&o._UZ(0,"img",18)}function j(y,L){if(1&y){const f=o.EpF();o.TgZ(0,"ion-avatar",14),o.NdJ("click",function(){o.CHM(f);const S=o.oxw(2);return S.openPhoto(S.user.photo)}),o.YNc(1,G,1,1,"img",15),o.YNc(2,te,1,0,"img",16),o.qZA()}if(2&y){const f=o.oxw(2);o.xp6(1),o.Q6J("ngIf","none"!=f.user.photo),o.xp6(1),o.Q6J("ngIf","none"==f.user.photo)}}function e(y,L){if(1&y&&(o.TgZ(0,"div",11),o.TgZ(1,"ion-item",12),o.YNc(2,j,3,2,"ion-avatar",13),o.qZA(),o.qZA()),2&y){const f=o.oxw();o.xp6(2),o.Q6J("ngIf",f.user)}}function ie(y,L){if(1&y&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&y){const f=o.oxw();o.xp6(1),o.Oqu(f.user.fullName)}}function ne(y,L){if(1&y&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&y){const f=o.oxw();o.xp6(1),o.Oqu(f.user.desc_status)}}function se(y,L){if(1&y&&(o.TgZ(0,"ion-label",22),o._uU(1),o.qZA()),2&y){const f=o.oxw(2);o.xp6(1),o.hij("\n",f.user.userid,"\n")}}function z(y,L){if(1&y){const f=o.EpF();o.TgZ(0,"ion-item",19),o.NdJ("click",function(){return o.CHM(f),o.oxw().writeToClipboard()}),o._UZ(1,"ion-icon",20),o.YNc(2,se,2,1,"ion-label",21),o.qZA()}if(2&y){const f=o.oxw();o.xp6(2),o.Q6J("ngIf",f.user)}}const W="SESSION";let ae=(()=>{class y{constructor(f,I,S,Q,H){this.modalCtrl=f,this.localStorageService=I,this.navParams=S,this.generalFunctions=Q,this.platform=H,this.userData={userid:"",fname:"",name:"",desc_status:"",username:"",password:"",email:"",language:"",version:"",platform:"",cordova:"",model:"",dplatform:"",uuid:"",dversion:"",manufacturer:"",disvirtual:!1,serial:"",device_uid_token:""},this.photo="none"}openPhoto(f){return(0,d.mG)(this,void 0,void 0,function*(){var I,S,Q,H;if(this.platform.is("mobile")?(I="nomusiccontrols",S=R.LT,Q=R.MD):(I="pcandwebdesig nomusiccontrols photominwpa",S="",Q="",H=";"),!this.modal3)return this.modal3=yield this.modalCtrl.create({component:q.a,componentProps:{photo:f},mode:"ios",cssClass:I,swipeToClose:!0,showBackdrop:!0,backdropDismiss:!0,enterAnimation:S,leaveAnimation:Q,presentingElement:H}),this.modal3.onDidDismiss().then(de=>{this.modal3=null}),yield this.modal3.present();this.modal3.dismiss({data:!0}),this.modal3=null})}userdata(){if(this.userData=this.localStorageService.getItem(W)[0],this.userData){this.navParams.get("user");var I=this.localStorageService.getItem("PEOPLE_DATA_"+this.userData.userid),S=I.findIndex(Q=>Q.userid==this.user.id);this.user=I[S]}}writeToClipboard(){return(0,d.mG)(this,void 0,void 0,function*(){var f=this.userData.userid;this.generalFunctions.ToastShowModal(this.generalFunctions.xtranslate("messenger.copy")+": "+f,"1100","bottom"),yield h.T.write({string:f})})}ngOnInit(){this.localStorageService.getItem(W)&&this.userdata()}closeModal(){this.platform.is("mobile")||document.getElementById("messagedetailmodals").classList.toggle("pwaprofileopenmessage"),this.modalCtrl.dismiss()}}return y.\u0275fac=function(f){return new(f||y)(o.Y36(Z.IN),o.Y36(D.n),o.Y36(Z.X1),o.Y36(N.f),o.Y36(Z.t4))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-profile"]],decls:31,vars:17,consts:[[1,"ion-no-border",3,"translucent"],["color","dark","name","remove-outline",3,"click"],["class","ion-padding ion-text-center","style","padding: 0;",4,"ngIf"],["lines","none"],["position","stacked"],[4,"ngIf"],["lines","none",1,"ion-no-inner-padding-end"],["button","",3,"click",4,"ngIf"],["name","lock-closed-outline","color","success","slot","start"],[2,"font-size","15px"],["name","document-lock-outline","color","success","slot","start"],[1,"ion-padding","ion-text-center",2,"padding","0"],["lines","none",2,"padding","0","--padding-bottom","16px","--padding-top","16px"],["style","\nmargin: 0 auto;\nwidth: 135px;\nheight: 135px;\n","class","avatar-lg",3,"click",4,"ngIf"],[1,"avatar-lg",2,"margin","0 auto","width","135px","height","135px",3,"click"],[3,"src",4,"ngIf"],["src","assets/images/avatars/0.jpg",4,"ngIf"],[3,"src"],["src","assets/images/avatars/0.jpg"],["button","",3,"click"],["name","finger-print","color","primary","slot","start"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"]],template:function(f,I){1&f&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-title"),o.TgZ(3,"ion-icon",1),o.NdJ("click",function(){return I.closeModal()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content"),o.YNc(5,e,3,1,"div",2),o.TgZ(6,"ion-list"),o.TgZ(7,"ion-item",3),o.TgZ(8,"ion-label",4),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.YNc(11,ie,2,1,"p",5),o.qZA(),o.TgZ(12,"ion-item",6),o.TgZ(13,"ion-label",4),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.YNc(16,ne,2,1,"p",5),o.qZA(),o.qZA(),o.TgZ(17,"ion-list"),o.YNc(18,z,3,1,"ion-item",7),o.TgZ(19,"ion-item"),o._UZ(20,"ion-icon",8),o.TgZ(21,"ion-label",9),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.qZA(),o.TgZ(24,"ion-item"),o._UZ(25,"ion-icon",10),o.TgZ(26,"ion-label",9),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"ion-list"),o._UZ(30,"ion-list-header"),o.qZA(),o.qZA()),2&f&&(o.Q6J("translucent",!1),o.xp6(5),o.Q6J("ngIf",I.photo),o.xp6(4),o.Oqu(o.lcZ(10,9,"auth.name")),o.xp6(2),o.Q6J("ngIf",I.user),o.xp6(3),o.Oqu(o.lcZ(15,11,"messenger.bio")),o.xp6(2),o.Q6J("ngIf",I.user),o.xp6(2),o.Q6J("ngIf",I.user),o.xp6(4),o.hij("\n",o.lcZ(23,13,"messenger.crytoall"),"\n"),o.xp6(5),o.hij("\n",o.lcZ(28,15,"messenger.crytoallmedia"),"\n"))},directives:[Z.Gu,Z.sr,Z.wd,Z.gu,Z.W2,T.O5,Z.q_,Z.Ie,Z.Q$,Z.yh,Z.BJ],pipes:[U.X$],styles:["ion-item[_ngcontent-%COMP%]{--border-color: rgb(255 255 255 / 0%);padding:8px 0}ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:110px;height:47px}.ioitems[_ngcontent-%COMP%]{--padding-start: 0;--background-color: transparent;--background: transparent;--border-radius: 10px;border:none;margin-bottom:23px}.iobackgrods[_ngcontent-%COMP%]{padding:0 12px}.preas[_ngcontent-%COMP%]{text-align:left;font-size:15px}.backgorsd[_ngcontent-%COMP%]{padding:0 16px}.pollwallc[_ngcontent-%COMP%]{width:105px;height:140px;padding:1.6px;border-radius:6px;background:#e5ddd5;border:solid 2px;filter:saturate(.5)}.imagelaspol[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;object-fit:cover;opacity:.08}.colorppcip[_ngcontent-%COMP%]{width:105px;height:105px;padding:1.6px;border-radius:50px;background:#e5ddd5;border:solid 2px;filter:saturate(.5)}"]}),y})()}}]);